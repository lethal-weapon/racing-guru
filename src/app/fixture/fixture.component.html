<div *ngIf="isLoading">
  <app-spinner></app-spinner>
</div>

<div *ngIf="!isLoading"
     class="mx-12 mt-8 text-center"
>
  <div class="mb-6">
    <div class="flex flex-row justify-between mb-2 text-2xl">
      <div>Season {{ fixture.season }}</div>
      <div>{{ currentSeasonProgress }}</div>
    </div>
    <div class="w-full h-3 bg-gray-700 rounded-full">
      <div class="h-3 bg-yellow-400 rounded-full"
           [style.width]="currentSeasonProgress"
      >
      </div>
    </div>
  </div>

  <div class="grid grid-cols-4 gap-2.5">
    <div *ngFor="let ms of monthlySummaries"
         class="px-4 pt-2 pb-2.5 font-mono shadow-md transition shadow-gray-600 hover:shadow-gray-400"
    >
      <div class="mb-1 text-xl text-blue-600">
        {{ ms.month }}
      </div>
      <table class="border-collapse">
        <tr *ngFor="let item of ms.meetings">
          <td class="px-2 text-right text-green-600 {{getTableCellStyle(item.meeting)}}">
            #{{ getSeasonOrder(item.meeting) }}
          </td>
          <td class="px-2 text-right {{getTableCellStyle(item.meeting)}}">
            {{ item.day }}
          </td>
          <td class="px-2 {{getTableCellStyle(item.meeting)}}">
            {{ item.venue }}
          </td>
          <td *ngIf="item.special"
              class="px-2 text-left"
          >
            {{ item.description }}
          </td>
          <td *ngIf="!item.special && isPayday(item.meeting) "
              class="px-2 text-left text-red-600"
          >
            PAYDAY!
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>
